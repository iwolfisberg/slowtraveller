<div class="destination-cards">
  <% @destinations_array.each do |destination| %>
    <div class="destination-card">
      <div class="destination-photo">
        <%= image_tag destination[:photo_url], height: 120, crop: :scale, alt: destination[:name], class: "destination-image-index" %>
      </div>
      <div class="destination-infos">
        <h2><%= destination[:name] %> (<%= destination[:country] %>)</h2>
        <p><%= destination[:description] %></p>
        <% if Favorite.where(user: current_user).where(destination: destination[:id]).exists? %>
          <div class="link-card-index">
            <i class="fas fa-arrow-circle-down"></i>
            <%= link_to list_favorites_path(Favorite.where(user: current_user).where(destination: destination[:id]), dest: destination[:id]), method: :delete do %>
              <i class="fas fa-heart favorite"></i>
            <% end %>
          </div>
        <% else %>
          <div class="link-card-index">
            <i class="fas fa-arrow-circle-down"></i>
            <%= link_to favorites_path(dest: destination[:id]), method: :post do %>
              <i class="far fa-heart not-favorite"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="destination-journeys">
      <% destination[:journeys].each do |journey| %>
        <div class="destination-journey">
          <p class="carbon_footprint"><%= journey[:carbon] %> kg CO2</p>
          <p>Total duration:<br><%= journey[:duration] %></p>
          <p>NÂ° of connections:<br><%= journey[:connections] %></p>
          <%= link_to "See details", destination_path(destination[:id], journey: journey), class: "button" %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
